# ุงูุชุฎุงุจ ุฏุชุงุจุณ

ุงู ูพุฑูฺู ุงุฒ ุณู ุฑูุด ุจุฑุง ุฐุฎุฑูโุณุงุฒ ุฏุงุฏูโูุง ูพุดุชุจุงู ูโฺฉูุฏ:

## ๐๏ธ ฺฏุฒููโูุง ููุฌูุฏ

### 1. SQLite (ูพุดโูุฑุถ - ุจุฏูู ุชูุธูุงุช)
- โ **ุณุงุฏู**: ูุงุฒ ุจู ุชูุธูุงุช ูุฏุงุฑุฏ
- โ **ูุญู**: ูุงู ุฏุฑ ููุงู ุณุฑูุฑ ุฐุฎุฑู ูโุดูุฏ
- โ **ููุงุณุจ ุจุฑุง**: ุชูุณุนูุ ุชุณุชุ ู ุงุณุชูุงุฏู ุดุฎุต
- โ **ูุญุฏูุฏุช**: ุจุฑุง ุงุณุชูุงุฏู ฺูุฏ ฺฉุงุฑุจุฑู ุง production ููุงุณุจ ูุณุช

### 2. Supabase/PostgreSQL (ุชูุตู ูโุดูุฏ ุจุฑุง production)
- โ **ูุฏุฑุชููุฏ**: ููุงุณุจ ุจุฑุง ุงุณุชูุงุฏู ฺูุฏ ฺฉุงุฑุจุฑู
- โ **ุขููุงู**: ุฏุณุชุฑุณ ุงุฒ ูุฑ ุฌุง
- โ **ููุงุณโูพุฐุฑ**: ูโุชูุงูุฏ ุจุง ุฑุดุฏ ูพุฑูฺู ููุงุณ ุดูุฏ
- โ **ูุงุฒ ุจู ุชูุธูุงุช**: ุจุงุฏ ุญุณุงุจ Supabase ุงุฌุงุฏ ฺฉูุฏ

### 3. MySQL
- โ **ูุดููุฑ**: ฺฉ ุงุฒ ูุญุจูุจโุชุฑู ุฏุชุงุจุณโูุง
- โ **ูุฏุฑุชููุฏ**: ููุงุณุจ ุจุฑุง production
- โ **ูุงุฒ ุจู ุณุฑูุฑ**: ุจุงุฏ ุณุฑูุฑ MySQL ุฏุงุดุชู ุจุงุดุฏ

## ๐ ูุญูู ุงูุชุฎุงุจ

### ุงุณุชูุงุฏู ุงุฒ SQLite (ูพุดโูุฑุถ)

**ูฺ ฺฉุงุฑ ูุงุฒู ูุณุช!** ุงฺฏุฑ ูุงู `.env` ูุฏุงุฑุฏ ุง ูฺ ุชูุธูุงุช ุฏุชุงุจุณ ุฏุฑ ุขู ูุณุชุ ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุฒ SQLite ุงุณุชูุงุฏู ูโุดูุฏ.

ูุงู `database.sqlite` ุฏุฑ ูพูุดู `backend` ุงุฌุงุฏ ูโุดูุฏ.

### ุงุณุชูุงุฏู ุงุฒ Supabase

#### ูุฑุญูู ฑ: ุงุฌุงุฏ ูพุฑูฺู ุฏุฑ Supabase
1. ุจู [supabase.com](https://supabase.com) ุจุฑูุฏ
2. ฺฉ ูพุฑูฺู ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ุฑูุฒ ุนุจูุฑ ุฏุชุงุจุณ ุฑุง ุงุฏุฏุงุดุช ฺฉูุฏ

#### ูุฑุญูู ฒ: ุฏุฑุงูุช Connection String
1. ุฏุฑ ูพูู Supabase: **Settings** > **Database**
2. **Connection string** > **URI** ุฑุง ฺฉูพ ฺฉูุฏ

#### ูุฑุญูู ณ: ุชูุธู ุฏุฑ ูุงู `.env`

ูุงู `.env` ุฑุง ุฏุฑ ุฑุดู ูพุฑูฺู ุงุฌุงุฏ ฺฉูุฏ (ุง ุงุฒ `env.example` ฺฉูพ ฺฉูุฏ):

```bash
# ุฑูุด ฑ: ุงุณุชูุงุฏู ุงุฒ DATABASE_URL (ุชูุตู ูโุดูุฏ)
DATABASE_URL=postgresql://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
```

ุง:

```bash
# ุฑูุด ฒ: ุงุณุชูุงุฏู ุงุฒ ูุชุบุฑูุง ุฌุฏุงฺฏุงูู
DB_TYPE=postgresql
DB_USER=postgres
DB_PASSWORD=your_supabase_password
DB_HOST=db.your-project-ref.supabase.co
DB_PORT=5432
DB_NAME=postgres
```

**ูุซุงู ูุงูุน:**
```bash
DATABASE_URL=postgresql://postgres:MySecurePassword123@db.abcdefghijklmnop.supabase.co:5432/postgres
```

#### ูุฑุญูู ด: ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
pip install -r requirements.txt
```

#### ูุฑุญูู ต: ุงุฌุฑุง ุณุฑูุฑ
```bash
cd backend
uvicorn main:app --reload
```

ุงฺฏุฑ ูพุงู ุฒุฑ ุฑุง ุฏุฏุฏุ ุงุชุตุงู ูููู ุจูุฏู ุงุณุช:
```
Using database from DATABASE_URL: postgresql://***@db.xxx.supabase.co:5432/postgres
Database initialized successfully.
```

### ุงุณุชูุงุฏู ุงุฒ MySQL

ุฏุฑ ูุงู `.env`:

```bash
DB_TYPE=mysql
DB_USER=root
DB_PASSWORD=your_password
DB_HOST=localhost
DB_PORT=3306
DB_NAME=youtube_dlp
```

## ๐ ุชุบุฑ ุฏุชุงุจุณ

ูโุชูุงูุฏ ุฏุฑ ูุฑ ุฒูุงู ุฏุชุงุจุณ ุฑุง ุชุบุฑ ุฏูุฏ:

1. **ุงุฒ SQLite ุจู Supabase:**
   - ุชูุธูุงุช Supabase ุฑุง ุฏุฑ `.env` ุงุถุงูู ฺฉูุฏ
   - ุณุฑูุฑ ุฑุง restart ฺฉูุฏ
   - (ุงุฎุชุงุฑ) ุฏุงุฏูโูุง ููุฌูุฏ ุฑุง ุจุง `migrate_json_to_db.py` ููุชูู ฺฉูุฏ

2. **ุงุฒ Supabase ุจู SQLite:**
   - ุฎุทูุท ูุฑุจูุท ุจู ุฏุชุงุจุณ ุฑุง ุงุฒ `.env` ุญุฐู ฺฉูุฏ ุง comment ฺฉูุฏ
   - ุณุฑูุฑ ุฑุง restart ฺฉูุฏ
   - ูุงู `database.sqlite` ุฌุฏุฏ ุงุฌุงุฏ ูโุดูุฏ

## ๐ ููุงุณู

| ูฺฺฏ | SQLite | Supabase/PostgreSQL |
|-------|--------|---------------------|
| ุชูุธูุงุช | โ ูุงุฒ ูุฏุงุฑุฏ | โ ูุงุฒ ุฏุงุฑุฏ |
| ูุฒูู | โ ุฑุงฺฏุงู | โ ุฑุงฺฏุงู (ุชุง ุญุฏ ูุนู) |
| ููุงุณุจ ุจุฑุง | ุชูุณุนูุ ุชุณุช | Production |
| ฺูุฏ ฺฉุงุฑุจุฑู | โ ูุญุฏูุฏ | โ ุจูู |
| ููุงุณโูพุฐุฑ | โ ูุญุฏูุฏ | โ ุจุงูุง |
| ูพุดุชุจุงูโฺฏุฑ | ุฏุณุช | ุฎูุฏฺฉุงุฑ |

## ๐ก ุชูุตู

- **ุจุฑุง ุชูุณุนู ู ุชุณุช**: ุงุฒ SQLite ุงุณุชูุงุฏู ฺฉูุฏ (ุจุฏูู ุชูุธูุงุช)
- **ุจุฑุง production**: ุงุฒ Supabase ุงุณุชูุงุฏู ฺฉูุฏ (ุฑุงฺฏุงู ู ูุฏุฑุชููุฏ)

## ๐ ุชุดุฎุต ุฏุชุงุจุณ ุงุณุชูุงุฏู ุดุฏู

ููฺฏุงู ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑุ ุฏุฑ console ูพุงู ุฒุฑ ุฑุง ูโุจูุฏ:

```
Using SQLite database (default): D:\Youtube-DLP\Youtube-DLP\backend\database.sqlite
```

ุง:

```
Using database from DATABASE_URL: postgresql://***@db.xxx.supabase.co:5432/postgres
```

ุง:

```
Using PostgreSQL database: db.xxx.supabase.co:5432/postgres
```

## ๐ ููุงุจุน ุจุดุชุฑ

- [ุฑุงูููุง ฺฉุงูู Supabase](SUPABASE_SETUP.md)
- [ุฑุงูููุง ุนููู ุฏุชุงุจุณ](DATABASE_SETUP.md)

